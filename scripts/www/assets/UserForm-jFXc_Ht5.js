import{ah as V,z as f,k,Y as r,o as m,b as _,a as l,e as d,ai as b,X as w,aj as N,A as x,D as B,y as q,ak as U,r as g,E as C}from"./index-CAWPox-O.js";import{N as E}from"./index-DGZfK3hW.js";const F={style:{padding:"16px"}},$={style:{margin:"20px"}},j={__name:"UserForm",setup(R){const u=V(),i=f(),s=!!u.query.id,a=g({username:"",nickName:"",password:"",email:""});k(async()=>{if(s){const o=await r.get(`/system/user/get?id= ${u.query.id}`);a.value={...o}}});const p=async o=>{try{s?await r.put("/system/user/update",o):await r.post("/system/user/create",o),C(s?"更新成功":"新增成功"),i.back()}catch{}};return(o,e)=>{const c=E,n=b,v=B,y=U;return m(),_("div",F,[l(c,{title:s?"编辑用户":"新增用户","left-text":"返回",onClickLeft:e[0]||(e[0]=t=>o.$router.back())},null,8,["title"]),l(y,{onSubmit:p},{default:d(()=>[l(n,{modelValue:a.value.username,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.username=t),name:"username",label:"账号",placeholder:"请输入账号",required:""},null,8,["modelValue"]),l(n,{modelValue:a.value.nickname,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.nickname=t),name:"nickname",label:"昵称",placeholder:"请输入昵称",required:""},null,8,["modelValue"]),s?N("",!0):(m(),w(n,{key:0,modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.password=t),type:"password",name:"password",label:"密码",placeholder:"请输入密码",required:""},null,8,["modelValue"])),l(n,{modelValue:a.value.email,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.email=t),name:"email",label:"邮箱",placeholder:"请输入邮箱"},null,8,["modelValue"]),x("div",$,[l(v,{block:"",type:"primary","native-type":"submit"},{default:d(()=>[...e[5]||(e[5]=[q("保存",-1)])]),_:1})])]),_:1})])}}};export{j as default};
